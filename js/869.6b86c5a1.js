"use strict";(self["webpackChunkcom_thematronic_alpha"]=self["webpackChunkcom_thematronic_alpha"]||[]).push([[869],{8869:(e,t,a)=>{a.r(t),a.d(t,{default:()=>pe});var r=a(3673);const l={class:"q-my-md text-center"},m={class:"q-my-md text-center"},o=(0,r.Uk)("Zdroj 1"),i=(0,r.Uk)("Zdroj 2"),n=(0,r.Uk)("Režim"),s={class:"row items-center no-wrap"},u=(0,r._)("div",{class:"text-center"},"Léto",-1),d={class:"row items-center no-wrap"},p=(0,r._)("div",{class:"text-center"},"Zima",-1);function c(e,t,a,c,v,b){const _=(0,r.up)("jer1ng-menu"),z=(0,r.up)("q-tab"),g=(0,r.up)("q-tabs"),f=(0,r.up)("q-header"),w=(0,r.up)("q-toggle"),h=(0,r.up)("q-tab-panel"),k=(0,r.up)("sensor"),q=(0,r.up)("program-termostat"),y=(0,r.up)("q-card-section"),x=(0,r.up)("q-btn-toggle"),W=(0,r.up)("q-card"),N=(0,r.up)("q-icon"),T=(0,r.up)("q-tab-panels"),j=(0,r.up)("q-page");return(0,r.wg)(),(0,r.j4)(j,{class:"flex"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,null,{default:(0,r.w5)((()=>[(0,r.Wm)(_,{"mqtt-client":e.$mqtt.client,breadcrumbLabels:[" Nastavení"]},null,8,["mqtt-client"]),(0,r.Wm)(g,{modelValue:v.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>v.tab=e)},{default:(0,r.w5)((()=>[b.tabs.k1.visible?((0,r.wg)(),(0,r.j4)(z,{key:0,name:"k1",label:b.tabs.k1.label},null,8,["label"])):(0,r.kq)("",!0),b.tabs.k2.visible?((0,r.wg)(),(0,r.j4)(z,{key:1,name:"k2",label:b.tabs.k2.label},null,8,["label"])):(0,r.kq)("",!0),b.tabs.z1.visible?((0,r.wg)(),(0,r.j4)(z,{key:2,name:"z1",label:b.tabs.z1.label},null,8,["label"])):(0,r.kq)("",!0),b.tabs.z2.visible?((0,r.wg)(),(0,r.j4)(z,{key:3,name:"z2",label:b.tabs.z2.label},null,8,["label"])):(0,r.kq)("",!0),b.tabs.boiler.visible?((0,r.wg)(),(0,r.j4)(z,{key:4,name:"boiler",label:b.tabs.boiler.label},null,8,["label"])):(0,r.kq)("",!0),(0,r.Wm)(z,{name:"ostatni",label:"Ostatní"})])),_:1},8,["modelValue"])])),_:1}),(0,r.Wm)(T,{modelValue:v.tab,"onUpdate:modelValue":t[6]||(t[6]=e=>v.tab=e),animated:"",swipeable:"",class:"full-width"},{default:(0,r.w5)((()=>[b.tabs.k1.visible?((0,r.wg)(),(0,r.j4)(h,{key:0,name:"k1"},{default:(0,r.w5)((()=>[(0,r._)("div",l,[(0,r.Wm)(w,{modelValue:v.onoffk1,"onUpdate:modelValue":t[1]||(t[1]=e=>v.onoffk1=e),size:"xl"},null,8,["modelValue"])])])),_:1})):(0,r.kq)("",!0),b.tabs.k2.visible?((0,r.wg)(),(0,r.j4)(h,{key:1,name:"k2"},{default:(0,r.w5)((()=>[(0,r._)("div",m,[(0,r.Wm)(w,{modelValue:v.onoffk2,"onUpdate:modelValue":t[2]||(t[2]=e=>v.onoffk2=e),size:"xl"},null,8,["modelValue"])])])),_:1})):(0,r.kq)("",!0),b.tabs.z1.visible?((0,r.wg)(),(0,r.j4)(h,{key:2,name:"z1"},{default:(0,r.w5)((()=>["cidlo"===b.device.info.rezim_z1?((0,r.wg)(),(0,r.j4)(k,{key:0,name:b.tabs.z1.label,zone:"zo1",temperatureName:"s_t_zo1_vy",setTemperatureName:"dev_set_z1",temperatureInit:b.device.virtual.dev_set_z1},null,8,["name","temperatureInit"])):(0,r.kq)("",!0),"program"===b.device.info.rezim_z1||"termostat"===b.device.info.rezim_z1?((0,r.wg)(),(0,r.j4)(q,{key:1,name:b.tabs.z1.label,zone:"zo1",temperatureName:"s_t_zo1_vy",setTemperatureName:"dev_set_z1",modeInit:b.device.virtual.dev_set_z1,type:b.device.info.rezim_z1},null,8,["name","modeInit","type"])):(0,r.kq)("",!0)])),_:1})):(0,r.kq)("",!0),b.tabs.z2.visible?((0,r.wg)(),(0,r.j4)(h,{key:3,name:"z2"},{default:(0,r.w5)((()=>["cidlo"===b.device.info.rezim_z2?((0,r.wg)(),(0,r.j4)(k,{key:0,name:b.tabs.z2.label,zone:"zo2",temperatureName:"s_t_zo2_vy",setTemperatureName:"dev_set_z2",temperatureInit:b.device.virtual.dev_set_z2},null,8,["name","temperatureInit"])):(0,r.kq)("",!0),"program"===b.device.info.rezim_z2||"termostat"===b.device.info.rezim_z2?((0,r.wg)(),(0,r.j4)(q,{key:1,name:b.tabs.z2.label,zone:"zo2",temperatureName:"s_t_zo2_vy",setTemperatureName:"dev_set_z2",modeInit:b.device.virtual.dev_set_z2,type:b.device.info.rezim_z2},null,8,["name","modeInit","type"])):(0,r.kq)("",!0)])),_:1})):(0,r.kq)("",!0),b.tabs.boiler.visible?((0,r.wg)(),(0,r.j4)(h,{key:4,name:"boiler"},{default:(0,r.w5)((()=>[(0,r.Wm)(k,{name:b.tabs.boiler.label,maxTemperature:85,zone:"tuv",temperatureName:"s_t_tuv",setTemperatureName:"dev_set_tuv",temperatureInit:b.device.virtual.dev_set_tuv},null,8,["name","maxTemperature","temperatureInit"])])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(h,{name:"ostatni"},{default:(0,r.w5)((()=>[(0,r.Wm)(W,{flat:"",class:"q-py-xs bg-transparent"},{default:(0,r.w5)((()=>[(0,r.Wm)(y,null,{default:(0,r.w5)((()=>[o])),_:1}),(0,r.Wm)(y,null,{default:(0,r.w5)((()=>[(0,r.Wm)(x,{modelValue:v.zdroj1,"onUpdate:modelValue":t[3]||(t[3]=e=>v.zdroj1=e),"toggle-color":"primary",spread:"",unelevated:"",options:[{label:"Volba",value:"volba"},{label:"Blokováno",value:"blokovano"}]},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(W,{flat:"",class:"q-py-xs bg-transparent"},{default:(0,r.w5)((()=>[(0,r.Wm)(y,null,{default:(0,r.w5)((()=>[i])),_:1}),(0,r.Wm)(y,null,{default:(0,r.w5)((()=>[(0,r.Wm)(x,{modelValue:v.zdroj,"onUpdate:modelValue":t[4]||(t[4]=e=>v.zdroj=e),"toggle-color":"primary",spread:"",unelevated:"",options:[{label:"Zdroj 1",value:"zdroj1"},{label:"Zdroj 2",value:"zdroj2"}]},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(W,{flat:"",class:"q-py-xs bg-transparent"},{default:(0,r.w5)((()=>[(0,r.Wm)(y,null,{default:(0,r.w5)((()=>[n])),_:1}),(0,r.Wm)(y,null,{default:(0,r.w5)((()=>[(0,r.Wm)(x,{modelValue:v.rezim,"onUpdate:modelValue":t[5]||(t[5]=e=>v.rezim=e),"toggle-color":"primary",spread:"",unelevated:"",options:[{value:"leto",slot:"leto"},{value:"zima",slot:"zima"}]},{leto:(0,r.w5)((()=>[(0,r._)("div",s,[u,(0,r.Wm)(N,{right:"",name:"fas fa-sun"})])])),zima:(0,r.w5)((()=>[(0,r._)("div",d,[p,(0,r.Wm)(N,{right:"",name:"fas fa-snowflake"})])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var v=a(8089),b=a(2323);const _={class:"text-h6 text-center text-grey-6 q-my-md"},z={class:"q-my-md"},g=(0,r._)("div",{class:"text-h6 text-center"},"Aktuální teplota",-1),f={class:"text-h4 text-center"},w={class:"text-center"},h={class:"q-my-md"},k=(0,r._)("div",{class:"text-h6 text-center"},"Nastavená teplota",-1),q={class:"text-h4 text-center"},y={class:"text-center"},x={class:"row q-my-md"},W={class:"col text-left"},N=(0,r.Uk)("-"),T={class:"col-8"},j={class:"col text-right"},V=(0,r.Uk)("+");function Z(e,t,a,l,m,o){const i=(0,r.up)("q-chip"),n=(0,r.up)("q-btn"),s=(0,r.up)("q-slider");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",_,(0,b.zw)(a.name),1),(0,r._)("div",z,[g,(0,r._)("div",f,(0,b.zw)(o.device.sig[a.temperatureName])+" °C",1),(0,r._)("div",w,[(0,r.Wm)(i,{color:"red","text-color":"white"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,b.zw)(a.temperatureName),1)])),_:1}),(0,r.Wm)(i,{color:"red","text-color":"white"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,b.zw)(o.device.sig[a.temperatureName]),1)])),_:1})])]),(0,r._)("div",h,[k,(0,r._)("div",q,(0,b.zw)(m.temperature)+" °C",1),(0,r._)("div",y,[(0,r.Wm)(i,{color:"red","text-color":"white"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,b.zw)(a.setTemperatureName),1)])),_:1}),(0,r.Wm)(i,{color:"red","text-color":"white"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,b.zw)(o.device.virtual[a.setTemperatureName]),1)])),_:1})])]),(0,r._)("div",x,[(0,r._)("div",W,[(0,r.Wm)(n,{round:"",color:"blue",onClick:t[0]||(t[0]=e=>o.decrement()),size:"1rem"},{default:(0,r.w5)((()=>[N])),_:1})]),(0,r._)("div",T,[(0,r.Wm)(s,{modelValue:m.temperature,"onUpdate:modelValue":t[1]||(t[1]=e=>m.temperature=e),min:a.minTemperature,max:a.maxTemperature,step:.1,color:"orange",onChange:t[2]||(t[2]=e=>o.tempChanged(m.temperature))},null,8,["modelValue","min","max","step"])]),(0,r._)("div",j,[(0,r.Wm)(n,{round:"",color:"red",onClick:t[3]||(t[3]=e=>o.increment()),size:"1rem"},{default:(0,r.w5)((()=>[V])),_:1})])])])}a(2100);const U={props:{name:{type:String,required:!0},temperatureName:{type:String,required:!0},setTemperatureName:{type:String,required:!0},minTemperature:{type:Number,required:!1,default:5},maxTemperature:{type:Number,required:!1,default:30},zone:{type:String,required:!0},temperatureInit:{type:Number,required:!1}},data(){return{temperature:this.temperatureInit,currentTemp:!1,onoff:!0}},computed:{device(){return this.$store.getters["devices/findDevice"](this.$route.params.id)}},methods:{increment(){this.temperature<this.maxTemperature&&(this.temperature=Math.round(10*(this.temperature+.1))/10,this.tempChanged(this.temperature))},decrement(){this.temperature>this.minTemperature&&(this.temperature=Math.round(10*(this.temperature-.1))/10,this.tempChanged(this.temperature))},tempChanged(e){const t={name:"setTemp",zone:this.zone,mode:"cidlo",temperature:e};this.$mqtt.client.publish(this.$route.params.id+"/cmd",JSON.stringify(t))}}};var C=a(4260),S=a(7030),I=a(8240),Q=a(2064),$=a(9789),D=a.n($);const B=(0,C.Z)(U,[["render",Z]]),M=B;D()(U,"components",{QChip:S.Z,QBtn:I.Z,QSlider:Q.Z});const A={class:"text-h6 text-center text-grey-6 q-my-md"},O={class:"q-my-md"},P={class:"q-my-md"},J=(0,r._)("div",{class:"text-h6 text-center"},"Aktuální teplota",-1),L={class:"text-h4 text-center"},H={class:"text-center"},R={class:"text-center q-mb-md"},E={class:"text-center"};function F(e,t,a,l,m,o){const i=(0,r.up)("q-chip"),n=(0,r.up)("q-btn-toggle");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",A,(0,b.zw)(a.name),1),(0,r._)("div",O,[(0,r._)("div",P,[J,(0,r._)("div",L,(0,b.zw)(o.device.sig[a.temperatureName])+" °C",1),(0,r._)("div",H,[(0,r.Wm)(i,{color:"red","text-color":"white"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,b.zw)(a.temperatureName),1)])),_:1}),(0,r.Wm)(i,{color:"red","text-color":"white"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,b.zw)(o.device.sig[a.temperatureName]),1)])),_:1})])]),(0,r._)("div",R,["program"===a.type?((0,r.wg)(),(0,r.j4)(n,{key:0,modelValue:m.mode,"onUpdate:modelValue":[t[0]||(t[0]=e=>m.mode=e),t[1]||(t[1]=e=>o.tempChanged(m.mode))],"toggle-color":"primary",options:[{label:"Slunicko",value:"ku_komfort"},{label:"Mesicek",value:"ku_utlum"},{label:"Stop",value:"ku_stop"}]},null,8,["modelValue"])):(0,r.kq)("",!0),"termostat"===a.type?((0,r.wg)(),(0,r.j4)(n,{key:1,modelValue:m.mode,"onUpdate:modelValue":[t[2]||(t[2]=e=>m.mode=e),t[3]||(t[3]=e=>o.tempChanged(m.mode))],"toggle-color":"primary",options:[{label:"Slunicko",value:"term_komfort"},{label:"Stop",value:"term_stop"},{label:"Auto",value:"term_auto"}]},null,8,["modelValue"])):(0,r.kq)("",!0)]),(0,r._)("div",E,[(0,r.Wm)(i,{color:"red","text-color":"white"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,b.zw)(a.setTemperatureName),1)])),_:1}),(0,r.Wm)(i,{color:"red","text-color":"white"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,b.zw)(o.device.virtual[a.setTemperatureName]),1)])),_:1})])])])}const G={props:{name:{type:String,required:!0},temperatureName:{type:String,required:!0},setTemperatureName:{type:String,required:!0},minTemperature:{type:Number,required:!1,default:5},maxTemperature:{type:Number,required:!1,default:30},zone:{type:String,required:!0},type:{type:String,required:!0},modeInit:{type:String,required:!1}},data(){return{mode:this.modeInit,currentTemp:!1,onoff:!0}},computed:{device(){return this.$store.getters["devices/findDevice"](this.$route.params.id)}},methods:{tempChanged(e){const t={name:"setTemp",zone:this.zone,mode:this.type,temperature:e};this.$mqtt.client.publish(this.$route.params.id+"/cmd",JSON.stringify(t))}}};var K=a(8761);const X=(0,C.Z)(G,[["render",F]]),Y=X;D()(G,"components",{QChip:S.Z,QBtnToggle:K.Z});const ee={components:{jer1ngMenu:v.Z,sensor:M,programTermostat:Y},data(){return{tab:"z1",zdroj1:"volba",zdroj:"zdroj2",rezim:"leto",onoffk1:!0,onoffk2:!0}},computed:{device(){return this.$store.getters["devices/findDevice"](this.$route.params.id)},tabs(){return this.$store.getters["names/tabs"]}},created(){this.$store.dispatch("names/loadSettings",parseInt(this.$route.params.id)),this.$route.query.tab&&(this.tab=this.$route.query.tab)}};var te=a(4379),ae=a(3812),re=a(7547),le=a(8408),me=a(5906),oe=a(6602),ie=a(8886),ne=a(151),se=a(5589),ue=a(4554);const de=(0,C.Z)(ee,[["render",c]]),pe=de;D()(ee,"components",{QPage:te.Z,QHeader:ae.Z,QTabs:re.Z,QTab:le.Z,QTabPanels:me.Z,QTabPanel:oe.Z,QToggle:ie.Z,QCard:ne.Z,QCardSection:se.Z,QBtnToggle:K.Z,QIcon:ue.Z})}}]);