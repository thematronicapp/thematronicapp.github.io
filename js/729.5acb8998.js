"use strict";(self["webpackChunkcom_thematronic_alpha"]=self["webpackChunkcom_thematronic_alpha"]||[]).push([[729],{6729:(e,a,t)=>{t.r(a),t.d(a,{default:()=>E});var l=t(3673);const o={class:"full-width q-pa-md"};function d(e,a,t,d,r,i){const u=(0,l.up)("jbr-menu"),n=(0,l.up)("q-header"),s=(0,l.up)("program-detail"),p=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(p,{class:"flex"},{default:(0,l.w5)((()=>[(0,l.Wm)(n,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{breadcrumbLabels:["Týdenní programy",this.$route.params["zone"]],breadcrumbSpace:!0},null,8,["breadcrumbLabels"])])),_:1}),(0,l._)("div",o,[(0,l.Wm)(s,{zone:e.$route.params["zone"]},null,8,["zone"])])])),_:1})}var r=t(8089),i=t(2323);const u={class:"row q-gutter-y-md"},n={class:"row items-center"};function s(e,a,t,o,d,r){const s=(0,l.up)("q-btn"),p=(0,l.up)("q-item-section"),m=(0,l.up)("q-item"),c=(0,l.up)("q-slide-item"),h=(0,l.up)("q-list"),g=(0,l.up)("q-card-section"),w=(0,l.up)("q-card"),b=(0,l.up)("dialog-add-update"),y=(0,l.up)("dialog-copy"),v=(0,l.Q2)("ripple");return(0,l.wg)(),(0,l.iD)("div",u,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.dayOptions,(e=>((0,l.wg)(),(0,l.j4)(w,{class:"full-width",flat:"",bordered:"",key:e.value},{default:(0,l.w5)((()=>[(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l.Wm)(h,{separator:""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{round:"",size:"sm",icon:"fas fa-plus",color:"secondary",onClick:a=>r.dialogAddOpen(e)},null,8,["onClick"])])),_:2},1024),(0,l.Wm)(p,{class:"text-center"},{default:(0,l.w5)((()=>[(0,l._)("strong",null,(0,i.zw)(e.label),1)])),_:2},1024),(0,l.Wm)(p,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{round:"",size:"sm",color:"secondary",icon:"far fa-copy",onClick:a=>r.dialogCopyOpen(d.program[e.value],e)},null,8,["onClick"])])),_:2},1024)])),_:2},1024),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.getFirstProgram(e),(a=>(0,l.wy)(((0,l.wg)(),(0,l.j4)(m,{key:a.time,clickable:"",onClick:t=>r.dialogUpdateOpen(a,e,0)},{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(a.time),1)])),_:2},1024),(0,l.Wm)(p,{class:"text-right"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(a.temperature)+" °C",1)])),_:2},1024)])),_:2},1032,["onClick"])),[[v]]))),128)),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.getNextProgram(e),((a,t)=>((0,l.wg)(),(0,l.j4)(c,{"right-color":"red",key:a.time,onRight:a=>r.onRight(t+1,e.value)},{right:(0,l.w5)((()=>[(0,l._)("div",n,' Odstranit "'+(0,i.zw)(a.time)+'" ',1)])),default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(m,{clickable:"",onClick:l=>r.dialogUpdateOpen(a,e,t)},{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(a.time),1)])),_:2},1024),(0,l.Wm)(p,{class:"text-right"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(a.temperature)+" °C",1)])),_:2},1024)])),_:2},1032,["onClick"])),[[v]])])),_:2},1032,["onRight"])))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),(0,l.Wm)(b,{sync:d.dialog.addupdate.show,"onUpdate:sync":a[0]||(a[0]=e=>d.dialog.addupdate.show=e),time:d.dialog.addupdate.time,temperature:d.dialog.addupdate.temperature,day:d.dialog.addupdate.day,mode:d.dialog.addupdate.mode,index:d.dialog.addupdate.index,program:d.program},null,8,["sync","time","temperature","day","mode","index","program"]),(0,l.Wm)(y,{sync:d.dialog.copy.show,"onUpdate:sync":a[1]||(a[1]=e=>d.dialog.copy.show=e),day:d.dialog.copy.day,program:d.program,programCopy:d.dialog.copy.program},null,8,["sync","day","program","programCopy"])])}var p=t(8880);const m={class:"text-h6"},c={class:"q-ma-none"},h=(0,l._)("p",{class:"q-ma-none"},[(0,l._)("small",null,"Bude přepsána aktuální hodnotou.")],-1),g=(0,l._)("p",{class:"q-ma-none"},[(0,l._)("small",null,"Vyberte prosím konkrétní čas.")],-1),w={class:"text-h6"};function b(e,a,t,o,d,r){const u=(0,l.up)("q-card-section"),n=(0,l.up)("q-time"),s=(0,l.up)("q-banner"),b=(0,l.up)("q-slider"),y=(0,l.up)("q-btn"),v=(0,l.up)("q-card-actions"),f=(0,l.up)("q-card"),_=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(_,{modelValue:d.localShow,"onUpdate:modelValue":a[4]||(a[4]=e=>d.localShow=e),"full-width":""},{default:(0,l.w5)((()=>[(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"text-center"},{default:(0,l.w5)((()=>[(0,l._)("div",m,(0,i.zw)(t.day.label),1)])),_:1}),(0,l.Wm)(u,{class:"text-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{modelValue:d.localTime,"onUpdate:modelValue":a[0]||(a[0]=e=>d.localTime=e),format24h:"",flat:"",square:"",color:"primary",mask:"HH:mm","minute-options":d.minuteOptions,locale:e.$q.lang.date,disabled:r.disableTimeSelect,readonly:r.disableTimeSelect},null,8,["modelValue","minute-options","locale","disabled","readonly"]),(0,l.Wm)(p.uT,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:(0,l.w5)((()=>[r.replaceWarning?((0,l.wg)(),(0,l.j4)(s,{key:0,"inline-actions":"",rounded:"",class:"bg-red text-white"},{default:(0,l.w5)((()=>[(0,l._)("p",c,[(0,l._)("small",null,"Položka s časem "+(0,i.zw)(r.replaceWarning.time)+" má již nastavenou teplotu "+(0,i.zw)(r.replaceWarning.temperature)+" °C.",1)]),h])),_:1})):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(p.uT,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:(0,l.w5)((()=>[d.localTime?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(s,{key:0,"inline-actions":"",rounded:"",class:"bg-red text-white"},{default:(0,l.w5)((()=>[g])),_:1}))])),_:1})])),_:1}),(0,l.Wm)(u,{class:"text-center"},{default:(0,l.w5)((()=>[(0,l._)("div",w,(0,i.zw)(d.localTemperature)+" °C",1),(0,l.Wm)(b,{modelValue:d.localTemperature,"onUpdate:modelValue":a[1]||(a[1]=e=>d.localTemperature=e),min:5,max:30,step:.5},null,8,["modelValue","min","step"])])),_:1}),(0,l.Wm)(v,{align:"between"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{outline:"",label:"Zrušit",onClick:a[2]||(a[2]=e=>r.close())}),(0,l.Wm)(y,{unelevated:"",color:"primary",label:r.addLabelText,disabled:!d.localTime,onClick:a[3]||(a[3]=e=>r.submit())},null,8,["label","disabled"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}const y={props:{show:{type:Boolean,required:!0},time:{type:String,required:!0},temperature:{type:Number,required:!0},day:{type:Object,required:!0},program:{type:Object,required:!0},index:{type:Number,required:!1},mode:{type:String,required:!0,validator:e=>["add","update"].includes(e)}},data(){return{localShow:this.show,localTime:"",localTemperature:5,localWarning:!1,minuteOptions:[0,5,10,15,20,25,30,35,40,45,50,55],dayOptions:[{value:1,label:"Pondělí",shortLabel:"Po"},{value:2,label:"Úterý",shortLabel:"Út"},{value:3,label:"Středa",shortLabel:"St"},{value:4,label:"Čtvrtek",shortLabel:"Čt"},{value:5,label:"Pátek",shortLabel:"Pá"},{value:6,label:"Sobota",shortLabel:"So"},{value:7,label:"Neděle",shortLabel:"Ne"}]}},watch:{show(e){this.localShow=this.show,this.localTime=this.time,this.localTemperature=this.temperature},localShow(){this.$emit("update:show",this.localShow)}},computed:{disableTimeSelect(){return"00:00"===this.time&&0===this.index},addLabelText(){return"add"===this.mode?this.replaceWarning?"Aktualizovat":"Přidat":"Aktualizovat"},replaceWarning(){return"add"===this.mode?!!this.localTime&&this.program[this.day.value].find((e=>e.time===this.localTime)):!(!this.localTime||this.localTime===this.time)&&this.program[this.day.value].find((e=>e.time===this.localTime))}},methods:{submit(){},close(){this.localShow=!1}}};var v=t(4260),f=t(6778),_=t(151),q=t(5589),k=t(7886),W=t(5607),S=t(2064),C=t(9367),Z=t(8240),O=t(9789),x=t.n(O);const T=(0,v.Z)(y,[["render",b]]),Q=T;x()(y,"components",{QDialog:f.Z,QCard:_.Z,QCardSection:q.Z,QTime:k.Z,QBanner:W.Z,QSlider:S.Z,QCardActions:C.Z,QBtn:Z.Z});const z={class:"text-h6"},L=(0,l._)("p",null,"Kopírování stávající program do vybraných dnů.",-1);function P(e,a,t,o,d,r){const u=(0,l.up)("q-card-section"),n=(0,l.up)("q-option-group"),s=(0,l.up)("q-btn"),p=(0,l.up)("q-card-actions"),m=(0,l.up)("q-card"),c=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.j4)(c,{modelValue:d.localShow,"onUpdate:modelValue":a[3]||(a[3]=e=>d.localShow=e),"full-width":""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"text-center"},{default:(0,l.w5)((()=>[(0,l._)("div",z,(0,i.zw)(t.day.label),1)])),_:1}),(0,l.Wm)(u,{class:"text-center"},{default:(0,l.w5)((()=>[L])),_:1}),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(n,{options:r.groupOptions,type:"checkbox",modelValue:d.localGroup,"onUpdate:modelValue":a[0]||(a[0]=e=>d.localGroup=e)},null,8,["options","modelValue"])])),_:1}),(0,l.Wm)(p,{align:"between"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{outline:"",label:"Zrušit",onClick:a[1]||(a[1]=e=>r.close())}),(0,l.Wm)(s,{unelevated:"",color:"primary",label:"Kopírovat",onClick:a[2]||(a[2]=e=>r.submit())})])),_:1})])),_:1})])),_:1},8,["modelValue"])}const j={props:{show:{type:Boolean,required:!0},program:{type:Object,required:!0},programCopy:{type:Array,required:!0},day:{type:Object,required:!0}},data(){return{localShow:!1,localGroup:[],dayOptions:[{value:1,label:"Pondělí"},{value:2,label:"Úterý"},{value:3,label:"Středa"},{value:4,label:"Čtvrtek"},{value:5,label:"Pátek"},{value:6,label:"Sobota"},{value:7,label:"Neděle"}]}},watch:{show(e){this.localShow=this.show,this.localGroup=[]},localShow(){this.$emit("update:show",this.localShow)}},computed:{groupOptions(){const e=[];for(let a=0;a<this.dayOptions.length;a++)this.dayOptions[a].value!==this.day.value&&e.push(this.dayOptions[a]);return e}},methods:{submit(){for(let e=0;e<this.localGroup.length;e++);this.localShow=!1},close(){this.localShow=!1}}};var V=t(8758);const U=(0,v.Z)(j,[["render",P]]),D=U;x()(j,"components",{QDialog:f.Z,QCard:_.Z,QCardSection:q.Z,QOptionGroup:V.Z,QCardActions:C.Z,QBtn:Z.Z});const N={components:{dialogAddUpdate:Q,dialogCopy:D},props:{zone:{type:String,required:!0}},data(){return{dialog:{addupdate:{show:!1,time:"",temperature:5,day:{},mode:"add"},copy:{show:!1,day:{},program:[]}},program:{1:[],2:[],3:[],4:[],5:[],6:[],7:[]},dayOptions:[{value:1,label:"Pondělí",shortLabel:"Po"},{value:2,label:"Úterý",shortLabel:"Út"},{value:3,label:"Středa",shortLabel:"St"},{value:4,label:"Čtvrtek",shortLabel:"Čt"},{value:5,label:"Pátek",shortLabel:"Pá"},{value:6,label:"Sobota",shortLabel:"So"},{value:7,label:"Neděle",shortLabel:"Ne"}]}},methods:{dialogAddOpen(e){this.dialog.addupdate.day=e,this.dialog.addupdate.time="",this.dialog.addupdate.temperature=5,this.dialog.addupdate.index=-1,this.dialog.addupdate.mode="add",this.dialog.addupdate.show=!0},dialogUpdateOpen(e,a,t){this.dialog.addupdate.day=a,this.dialog.addupdate.time=e.time,this.dialog.addupdate.temperature=e.temperature,this.dialog.addupdate.index=t,this.dialog.addupdate.mode="update",this.dialog.addupdate.show=!0},dialogCopyOpen(e,a){this.dialog.copy.program=e,this.dialog.copy.day=a,this.dialog.copy.show=!0},onRight(e,a){this.program[a].splice(e,1)},getGroupDays(e){const a=[];for(let t=0;t<this.dayOptions.length;t++)this.program[t+1].value!==e.value&&a.push(this.dayOptions[t+1]);return a},getFirstProgram(e){const a=[];for(let t=0;t<this.program[e.value].length;t++)0===t&&a.push(this.program[e.value][t]);return a},getNextProgram(e){const a=[];for(let t=0;t<this.program[e.value].length;t++)t>0&&a.push(this.program[e.value][t]);return a}},created(){for(let e=1;e<=7;e++)this.program[e].push({time:"00:00",temperature:5})}};var A=t(7011),B=t(6332),G=t(2035),H=t(8951),I=t(6489);const K=(0,v.Z)(N,[["render",s]]),R=K;x()(N,"components",{QCard:_.Z,QCardSection:q.Z,QList:A.Z,QItem:B.Z,QItemSection:G.Z,QBtn:Z.Z,QSlideItem:H.Z}),x()(N,"directives",{Ripple:I.Z});const $={components:{jbrMenu:r.Z,programDetail:R},data(){return{}}};var Y=t(4379),F=t(3812);const M=(0,v.Z)($,[["render",d]]),E=M;x()($,"components",{QPage:Y.Z,QHeader:F.Z})}}]);