"use strict";(self["webpackChunkcom_thematronic_alpha"]=self["webpackChunkcom_thematronic_alpha"]||[]).push([[860],{8860:(e,a,t)=>{t.r(a),t.d(a,{default:()=>C});var s=t(3673),o=t(2323),r=t(5144),l=t.n(r);const i={class:"window-height window-width row justify-center items-center"},m={class:"col-lg-2 col-md-4 col-sm-6 col-xs-10"},d=(0,s._)("div",{class:"row q-mb-lg"},[(0,s._)("div",{class:"col-lg-6 offset-lg-3 col-xs-8 offset-xs-2"},[(0,s._)("img",{src:l()})])],-1),n={class:"text-center q-mt-lg"},c={class:"text-h6"};function u(e,a,t,r,l,u){const h=(0,s.up)("q-input"),w=(0,s.up)("lang-switch"),g=(0,s.up)("q-btn"),b=(0,s.up)("q-checkbox"),p=(0,s.up)("offline"),v=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(v,null,{default:(0,s.w5)((()=>[(0,s._)("div",i,[(0,s._)("div",m,[d,(0,s.Wm)(h,{outlined:"",type:"text",label:e.$t("loginPage.email"),modelValue:l.data.email,"onUpdate:modelValue":a[0]||(a[0]=e=>l.data.email=e),class:"q-mb-md"},null,8,["label","modelValue"]),(0,s.Wm)(h,{outlined:"",type:"password",label:e.$t("loginPage.password"),modelValue:l.data.password,"onUpdate:modelValue":a[1]||(a[1]=e=>l.data.password=e),class:"q-mb-md"},null,8,["label","modelValue"]),(0,s.Wm)(w),(0,s.Wm)(g,{outline:"",class:"full-width q-my-lg",size:"lg",color:"primary",onClick:u.submit},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.$t("loginPage.submit")),1)])),_:1},8,["onClick"]),(0,s._)("div",null,[(0,s.Wm)(b,{modelValue:l.data.rememberEmail,"onUpdate:modelValue":a[2]||(a[2]=e=>l.data.rememberEmail=e),label:e.$t("loginPage.rememberEmail")},null,8,["modelValue","label"])]),(0,s._)("div",null,[(0,s.Wm)(b,{modelValue:l.data.rememberPassword,"onUpdate:modelValue":a[3]||(a[3]=e=>l.data.rememberPassword=e),label:e.$t("loginPage.rememberPassword")},null,8,["modelValue","label"])]),(0,s._)("div",n,[(0,s._)("div",c,(0,o.zw)(e.$t("loginPage.enoughAccountYet")),1),(0,s.Wm)(g,{outline:"",size:"lg",class:"full-width q-my-md q-pa-none",color:"secondary",to:{name:"registernew"}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.$t("loginPage.createYourAccount")),1)])),_:1})])])]),(0,s.Wm)(p)])),_:1})}var h=t(8308),w=t(1192),g=t.n(w),b=t(7291),p=t(367);const v={components:{langSwitch:p.Z,offline:b.Z},data(){return{data:{email:"",password:"",rememberEmail:!0,rememberPassword:!0},versionNumber:!1,versionCode:!1}},validations:{data:{email:{required:h.C1},password:{required:h.C1}}},created(){},mounted(){this.data.email=this.savedEmail,this.data.password=this.savedPassword,this.data.rememberEmail=this.rememberEmail,this.data.rememberPassword=this.rememberPassword},watch:{},computed:{savedEmail:function(){const e=new(g()),a="savedEmail";try{return e.get(a)}catch(t){return""}},savedPassword:function(){const e=new(g()),a="savedPassword";try{return e.get(a)}catch(t){return""}},rememberEmail:function(){const e=new(g()),a="rememberEmail";try{return Boolean(e.get(a))}catch(t){return!1}},rememberPassword:function(){const e=new(g()),a="rememberPassword";try{return Boolean(e.get(a))}catch(t){return!1}}},methods:{submit:function(){this.doLogin()},doRegister(){this.$router.push({name:"registernew"})},doLogin(){this.$q.loading.show(),this.$auth.login({data:{email:this.data.email,password:this.data.password}}).then((()=>{const e=new(g());this.data.rememberEmail?(e.set("savedEmail",this.data.email),e.set("rememberEmail",this.data.rememberEmail)):(e.remove("savedEmail"),e.remove("rememberEmail")),this.data.rememberPassword?(e.set("savedPassword",this.data.password),e.set("rememberPassword",this.data.rememberPassword)):(e.remove("savedPassword"),e.remove("rememberPassword")),this.$mqtt.connect()}),(e=>{this.$q.loading.hide(),this.error=e.data,this.$q.notify({color:"negative",position:"top",message:this.$i18n.t("notify.badUsernamePassword")})}))},getVersionNumber(){this.$q.cordova&&this.$q.cordova.getAppVersion.getVersionNumber().then((e=>{this.versionNumber=e}))},getVersionCode(){this.$q.cordova&&this.$q.cordova.getAppVersion.getVersionCode().then((e=>{this.versionCode=e}))}},beforeUnmount(){this.$q.loading.hide()}};var f=t(4260),P=t(4379),q=t(4842),$=t(8240),V=t(5735),E=t(9789),_=t.n(E);const y=(0,f.Z)(v,[["render",u]]),C=y;_()(v,"components",{QPage:P.Z,QInput:q.Z,QBtn:$.Z,QCheckbox:V.Z})}}]);