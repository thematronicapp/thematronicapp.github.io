(()=>{var e={2318:(e,t,n)=>{"use strict";n(5363),n(71);var o=n(8880),r=n(9592),a=n(3673);function i(e,t,n,o,r,i){const s=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(s)}const s=(0,a.aZ)({name:"App"});var c=n(4260);const l=(0,c.Z)(s,[["render",i]]),d=l;var m=n(3826),p=n(7083),u=n(9582);const h=[{path:"/user",component:()=>Promise.all([n.e(736),n.e(178)]).then(n.bind(n,7178)),children:[{path:"activate/:token",name:"activate",component:()=>n.e(29).then(n.bind(n,9029))}]},{path:"/auth",component:()=>Promise.all([n.e(736),n.e(178)]).then(n.bind(n,7178)),children:[{path:"login",name:"login",component:()=>Promise.all([n.e(736),n.e(64),n.e(860)]).then(n.bind(n,8860))}]},{path:"/register",component:()=>Promise.all([n.e(736),n.e(178)]).then(n.bind(n,7178)),children:[{path:"new",name:"registernew",component:()=>Promise.all([n.e(736),n.e(64),n.e(353)]).then(n.bind(n,353))}]},{path:"/doc",component:()=>Promise.all([n.e(736),n.e(93)]).then(n.bind(n,3093)),children:[{path:"privacy-policy",name:"policy",component:()=>Promise.all([n.e(736),n.e(518)]).then(n.bind(n,1518))},{path:"terms-of-use",name:"terms",component:()=>Promise.all([n.e(736),n.e(880)]).then(n.bind(n,9202))}]},{path:"/",component:()=>Promise.all([n.e(736),n.e(995)]).then(n.bind(n,995)),meta:{auth:!0},children:[{path:"",name:"home",component:()=>Promise.all([n.e(736),n.e(64),n.e(561)]).then(n.bind(n,3561))},{path:"info",name:"info",component:()=>Promise.all([n.e(736),n.e(64),n.e(629)]).then(n.bind(n,2518))},{path:"mqtt",name:"mqtt",component:()=>Promise.all([n.e(736),n.e(64),n.e(188)]).then(n.bind(n,7188))}]},{path:"/jer1ng",component:()=>Promise.all([n.e(736),n.e(99)]).then(n.bind(n,4099)),meta:{auth:!0},children:[{path:"add",name:"jer1ngadd",props:!0,component:()=>Promise.all([n.e(736),n.e(302)]).then(n.bind(n,1302))},{path:"overview/:id",name:"jer1ngoverview",props:!0,component:()=>Promise.all([n.e(736),n.e(64),n.e(980)]).then(n.bind(n,980))},{path:"settings/:id",name:"jer1ngsettings",props:!0,component:()=>Promise.all([n.e(736),n.e(64),n.e(869)]).then(n.bind(n,8869))},{path:"names/:id",name:"jer1ngnames",props:!0,component:()=>Promise.all([n.e(736),n.e(64),n.e(343)]).then(n.bind(n,9343))},{path:"info/:id",name:"jer1nginfo",props:!0,component:()=>Promise.all([n.e(736),n.e(64),n.e(822)]).then(n.bind(n,6822))},{path:"usermenu/:id",name:"jer1ngusermenu",props:!0,component:()=>Promise.all([n.e(736),n.e(64),n.e(721)]).then(n.bind(n,3721))},{path:"weekprog/:id",name:"jer1ngweekprog",props:!0,component:()=>Promise.all([n.e(736),n.e(64),n.e(76)]).then(n.bind(n,3076))},{path:"weekprog/:id/:zone",name:"jer1ngweekprogdetail",props:!0,component:()=>Promise.all([n.e(736),n.e(64),n.e(729)]).then(n.bind(n,6729))},{path:"customprog/:id",name:"jer1ngcustomprog",props:!0,component:()=>Promise.all([n.e(736),n.e(64),n.e(664)]).then(n.bind(n,8664))},{path:"debug/:id",name:"jer1ngdebug",props:!0,component:()=>Promise.all([n.e(736),n.e(64),n.e(227)]).then(n.bind(n,1227))}]},{path:"/:catchAll(.*)*",component:()=>Promise.all([n.e(736),n.e(193)]).then(n.bind(n,2193))}],v=h,b=(0,p.BC)((function(){const e=u.r5,t=(0,u.p7)({scrollBehavior:()=>({left:0,top:0}),routes:v,history:e("")});return t}));async function f(e,t){const o="function"===typeof m["default"]?await(0,m["default"])({}):m["default"],{storeKey:a}=await Promise.resolve().then(n.bind(n,3826)),i="function"===typeof b?await b({store:o}):b;o.$router=i;const s=e(d);return s.use(r.Z,t),{app:s,store:o,storeKey:a,router:i}}var g=n(6249),P=n(6417);const y={config:{},plugins:{Loading:g.Z,Notify:P.Z}};var w=n(19);const k="";async function j({app:e,router:t,store:n,storeKey:o},r){let a=!1;const i=e=>{try{return t.resolve(e).href}catch(n){}return Object(e)===e?null:e},s=e=>{if(a=!0,"string"===typeof e&&/^https?:\/\//.test(e))return void(window.location.href=e);const t=i(e);null!==t&&(window.location.href=t,window.location.reload())},c=window.location.href.replace(window.location.origin,"");for(let d=0;!1===a&&d<r.length;d++)try{await r[d]({app:e,router:t,store:n,ssrContext:null,redirect:s,urlPath:c,publicPath:k})}catch(l){return l&&l.url?void s(l.url):void w.error("[Quasar] boot error:",l)}!0!==a&&(e.use(t),e.use(n,o),e.mount("#q-app"))}f(o.ri,y).then((e=>Promise.all([Promise.resolve().then(n.bind(n,5474)),Promise.resolve().then(n.bind(n,3034)),Promise.resolve().then(n.bind(n,3025)),Promise.resolve().then(n.bind(n,1284))]).then((t=>{const n=t.map((e=>e.default)).filter((e=>"function"===typeof e));j(e,n)}))))},3034:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var o=n(9511);n(6801);const r={request:function(e,t){e.url===this.options.refreshData.url&&(this.check()?e.data={refresh_token:this.token("refresh_token")}:this.logout()),this.drivers.http.setHeaders.call(this,e,{Authorization:"Bearer "+t})},response:function(e){if(e.data){let t=e.data.access_token;const n=e.data.refresh_token;if(n&&this.token("refresh_token",n),t)return t=t.split(/Bearer:?\s?/i),t[t.length>1?1:0].trim()}}};var a=n(6998),i=n(8059);const s=e=>{e.app.use((0,o.l)({plugins:{http:e.app.config.globalProperties.$api,router:e.router},drivers:{http:a.Z,auth:r,router:i.Z},options:{authRedirect:"/auth/login",loginData:{url:"/auth/login",method:"POST",redirect:"/",fetchUser:!0,staySignedIn:!0},fetchData:{url:"/auth/user",method:"GET",enabled:!0},parseUserData:function(e){return e},refreshData:{url:"/token/refresh",method:"POST",enabled:!0,interval:1},logoutData:{url:"auth/logout",method:"POST",redirect:"/auth/login",makeRequest:!1}}}))}},5474:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c,axios:()=>a.a,api:()=>s});var o=n(7083),r=n(52),a=n.n(r);let i="http://thematronicapi.local:8000";i="https://api.thematronic.cz";const s=a().create({baseURL:i}),c=(0,o.xr)((({app:e})=>{e.config.globalProperties.$axios=a(),e.config.globalProperties.$api=s}))},3025:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c,i18n:()=>s});var o=n(5948);const r={date:{months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],monthsShort:["Led","Úno","Bře","Dub","Kvě","Čvn","Čvc","Srp","Zář","Říj","Lis","Pro"],days:["Pondělí","Úterý","Středa","Čtvrtek","Pátek","Sobota","Neděle"],daysShort:["Po","Út","St","Čt","Pá","So","Ne"]},common:{hello:"Dobrý den",language:"Jazyk"},loginPage:{email:"E-mail",password:"Heslo",submit:"Přihlásit se",rememberEmail:"Zapamatovat e-mail",rememberPassword:"Zapamatovat heslo",enoughAccountYet:"Nemáte ještě účet?",createYourAccount:"Vytvořit účet"},registerPage:{title:"Vytvořte si účet",name:"Jméno",email:"E-mail",password:"Heslo",submit:"Vytvořit účet",message:"Vytvořením účtu, souhlasíte s",messageTermsLink:"podmínkami užití",messageAnd:"a",messagePrivacyLink:"ochranou osobích údajů",signInMessage:"Již máte ůčet?",signInLinkText:"Přihlašte se"},notify:{badUsernamePassword:"Neplatné uživatelské jméno nebo heslo"}},a={common:{hello:"Hallo",language:"Sprache"},login:{email:"E-mail",password:"Passwort",submit:"Anmelden",rememberPassword:"Merken Sie sich mein Passwort",rememberEmail:"Speichern von E-Mails"},loginPage:{email:"E-mail",password:"Heslo",submit:"Přihlásit se",rememberEmail:"Zapamatovat e-mail",rememberPassword:"Zapamatovat heslo",enoughAccountYet:"Nemáte ještě účet?",createYourAccount:"Vytvořit účet"}},i={cs:r,de:a},s=(0,o.o)({locale:"cs",messages:i}),c=({app:e})=>{e.use(s)}},1284:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var o=n(3567),r=n.n(o),a=n(5474),i=n(19);const s=({app:e,store:t})=>{const n=e.config.globalProperties.$q.platform.is.platform,o=n+"_"+String(Math.random().toString(36).substring(7)),s="wss://iot.thematronic.cz:8084/mqtt",c={clientId:o,connectTimeout:5e3,reconnectPeriod:0,username:o,password:"",keepalive:60,clean:!0};async function l(){const e=await a.api.post("token/mqtt",{client_id:o});return e.data.mqtt_token}const d={client:{connected:!1,disconnecting:!1},connect:async function(){const e=await l();e&&(c.password=e,this.client=r().connect(s,c),this.client.on("connect",(()=>{t.commit("devices/reset"),a.api.get("user/devices").then((e=>{e.data.forEach((e=>{this.client.subscribe(e.cpuid+"/device"),this.client.subscribe(e.cpuid+"/sig"),this.client.subscribe(e.cpuid+"/virtual"),t.commit("devices/addOrUpdate",e)}))})).catch((e=>{i.error(e)})),t.commit("mqtt/setConnected",this.client.connected)})),this.client.on("reconnect",(()=>{t.commit("mqtt/setConnected",this.client.connected)})),this.client.on("disconnect",(()=>{t.commit("mqtt/setConnected",this.client.connected)})),this.client.on("close",(()=>{t.commit("mqtt/setConnected",this.client.connected)})),this.client.on("message",((e,n)=>{t.commit("devices/messageAddOrUpdate",{topic:e,val:JSON.parse(n)})})))},reconnect:async function(){if(this.client.options){const e=await l();e&&(this.client.options.password=e,this.client.reconnect())}else this.connect(s,c)}};e.config.globalProperties.$mqtt=d}},1096:()=>{},3826:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});var o={};n.r(o),n.d(o,{all:()=>u,findDevice:()=>h});var r={};n.r(r),n.d(r,{addOrUpdate:()=>v,messageAddOrUpdate:()=>b,reset:()=>f});var a={};n.r(a),n.d(a,{connected:()=>w});var i={};n.r(i),n.d(i,{setConnected:()=>k});var s={};n.r(s),n.d(s,{tabs:()=>A});var c={};n.r(c),n.d(c,{setSettings:()=>q});var l={};n.r(l),n.d(l,{loadSettings:()=>T});var d=n(7083),m=n(3617);function p(){return{devices:[]}}function u(e){return e.devices}const h=e=>t=>e.devices.find((e=>e.id===parseInt(t)));function v(e,t){const n=e.devices.find((e=>e.id===t.id));n||e.devices.push({id:t.id,cpuid:t.cpuid,type:t.type,comment:t.comment,info:{},sig:{},virtual:{}})}function b(e,t){const n=t.topic.split("/"),o=n[0],r=e.devices.find((e=>e.cpuid===o)),a=t.topic.substring(n[0].length+1);"sig"===a?r.sig[t.val.k]=t.val.v:"virtual"===a?r.virtual[t.val.k]=t.val.v:"device"===a&&(r.info=t.val)}function f(e){e.devices=[]}var g=n(1096);const P={namespaced:!0,state:p,getters:o,mutations:r,actions:g},y={connected:!1};function w(e){return e.connected}function k(e,t){e.connected=t}var j=n(3512);const S={namespaced:!0,getters:a,mutations:i,actions:j,state:y},O={names:{k1:{label:"Kotel 1",visible:!0},k2:{label:"Kotel 2",visible:!0},z1:{label:"Zóna 1",visible:!0},z2:{label:"Zóna 2",visible:!0},aku1:{label:"Akumulace 1",visible:!0},aku2:{label:"Akumulace 2",visible:!0},solar:{label:"Solár",visible:!0},boiler:{label:"Bojler",visible:!0},system:{label:"Systém",visible:!0}}};function A(e){return e.names}function q(e,t){e.names=t}var E=n(5474),_=n(19);function T({commit:e},t){E.api.get("/user/device/"+t+"/settings").then((t=>{null!==t.data&&e("setSettings",t.data)})).catch((e=>{_.log(e)}))}const Z={namespaced:!0,getters:s,mutations:c,actions:l,state:O},C=(0,d.h)((function(){const e=(0,m.MT)({modules:{devices:P,mqtt:S,names:Z},strict:!1});return e}))},3512:()=>{},7294:()=>{},5036:()=>{},2361:()=>{},4616:()=>{}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,(()=>{var e=[];n.O=(t,o,r,a)=>{if(!o){var i=1/0;for(d=0;d<e.length;d++){for(var[o,r,a]=e[d],s=!0,c=0;c<o.length;c++)(!1&a||i>=a)&&Object.keys(n.O).every((e=>n.O[e](o[c])))?o.splice(c--,1):(s=!1,a<i&&(i=a));if(s){e.splice(d--,1);var l=r();void 0!==l&&(t=l)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[o,r,a]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,o)=>(n.f[o](e,t),t)),[]))})(),(()=>{n.u=e=>"js/"+(64===e?"chunk-common":e)+"."+{29:"0e9284fe",64:"d988f61d",76:"75581290",93:"6e5a3c79",99:"e5ca4e92",178:"e09873b8",188:"c4663b8c",193:"8f8eb9da",227:"541f9133",302:"3f069157",343:"d42a57c3",353:"9b4b443e",518:"c6da564a",561:"6cb43001",629:"5e7f3bf7",664:"2f8de097",721:"9d11e367",729:"5acb8998",822:"13cbdf45",860:"6f220193",869:"6b86c5a1",880:"7acdfa9d",980:"8adb6b08",995:"98a4cb8b"}[e]+".js"})(),(()=>{n.miniCssF=e=>"css/"+{143:"app",736:"vendor"}[e]+"."+{143:"31d6cfe0",736:"9da0c2ec"}[e]+".css"})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="com.thematronic.alpha:";n.l=(o,r,a,i)=>{if(e[o])e[o].push(r);else{var s,c;if(void 0!==a)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var m=l[d];if(m.getAttribute("src")==o||m.getAttribute("data-webpack")==t+a){s=m;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=o),e[o]=[r];var p=(t,n)=>{s.onerror=s.onload=null,clearTimeout(u);var r=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(n))),t)return t(n)},u=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),c&&document.head.appendChild(s)}}})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{n.p=""})(),(()=>{var e={143:0};n.f.j=(t,o)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var a=new Promise(((n,o)=>r=e[t]=[n,o]));o.push(r[2]=a);var i=n.p+n.u(t),s=new Error,c=o=>{if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var a=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,r[1](s)}};n.l(i,c,"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,o)=>{var r,a,[i,s,c]=o,l=0;if(i.some((t=>0!==e[t]))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(c)var d=c(n)}for(t&&t(o);l<i.length;l++)a=i[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},o=self["webpackChunkcom_thematronic_alpha"]=self["webpackChunkcom_thematronic_alpha"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=n.O(void 0,[736],(()=>n(2318)));o=n.O(o)})();